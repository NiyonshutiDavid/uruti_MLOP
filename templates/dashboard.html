<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uruti.Rw - Model Management</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter Tight', sans-serif;
            letter-spacing: -0.6px;
            background: #0a0f0a;
            color: #e8f5e8;
            min-height: 100vh;
        }

        .header {
            background: #0d1a0d;
            border-bottom: 1px solid #1a331a;
            padding: 0 24px;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
            font-size: 24px;
            color: #22c55e;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: #22c55e;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #0a0f0a;
            font-weight: 800;
        }

        .nav {
            display: flex;
            gap: 32px;
        }

        .nav a {
            color: #a1a1aa;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s;
            cursor: pointer;
        }

        .nav a:hover, .nav a.active {
            color: #22c55e;
        }

        .user-section {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #22c55e;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #0a0f0a;
            font-weight: 600;
            font-size: 14px;
        }

        .container {
            display: flex;
            min-height: calc(100vh - 64px);
        }

        .sidebar {
            width: 280px;
            background: #0d1a0d;
            border-right: 1px solid #1a331a;
            padding: 24px 0;
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-menu li {
            margin-bottom: 4px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 24px;
            color: #a1a1aa;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s;
            cursor: pointer;
        }

        .sidebar-menu a:hover, .sidebar-menu a.active {
            background: #1a331a;
            color: #22c55e;
        }

        .sidebar-menu .icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .main-content {
            flex: 1;
            padding: 32px;
            overflow-y: auto;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 24px;
            font-size: 14px;
            color: #a1a1aa;
        }

        .breadcrumb a {
            color: #22c55e;
            text-decoration: none;
        }

        .model-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 32px;
        }

        .model-info {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .model-icon {
            width: 48px;
            height: 48px;
            background: #22c55e;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #0a0f0a;
            font-weight: 800;
            font-size: 20px;
        }

        .model-details h1 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .model-status {
            display: flex;
            align-items: center;
            gap: 16px;
            font-size: 14px;
        }

        .status-badge {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 500;
        }

        .status-running {
            background: #16a34a20;
            color: #22c55e;
        }

        .status-trained {
            background: #0ea5e920;
            color: #06b6d4;
        }

        .quick-actions {
            margin-left: auto;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-family: inherit;
            letter-spacing: -0.6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: #22c55e;
            color: #0a0f0a;
        }

        .btn-primary:hover {
            background: #16a34a;
        }

        .btn-secondary {
            background: #1a331a;
            color: #22c55e;
            border: 1px solid #22c55e;
        }

        .btn-secondary:hover {
            background: #22c55e20;
        }

        .card {
            background: #0d1a0d;
            border: 1px solid #1a331a;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .card h2 {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #e8f5e8;
        }

        .card h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #e8f5e8;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #1a331a;
        }

        .info-item:last-child {
            border-bottom: none;
        }

        .info-label {
            color: #a1a1aa;
            font-weight: 500;
        }

        .info-value {
            color: #e8f5e8;
            font-weight: 600;
        }

        .metric-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .metric-card {
            background: #0d1a0d;
            border: 1px solid #1a331a;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .metric-value {
            font-size: 28px;
            font-weight: 700;
            color: #22c55e;
            margin-bottom: 8px;
        }

        .metric-label {
            color: #a1a1aa;
            font-size: 14px;
            font-weight: 500;
        }

        .chart-container {
            height: 300px;
            background: #0d1a0d;
            border: 1px solid #1a331a;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 24px;
        }

        .users-table {
            width: 100%;
            border-collapse: collapse;
        }

        .users-table th,
        .users-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #1a331a;
        }

        .users-table th {
            background: #0d1a0d;
            color: #a1a1aa;
            font-weight: 600;
            font-size: 14px;
        }

        .users-table td {
            color: #e8f5e8;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .training-log {
            background: #0a0f0a;
            border: 1px solid #1a331a;
            border-radius: 6px;
            padding: 16px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            color: #22c55e;
            max-height: 300px;
            overflow-y: auto;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #1a331a;
            border-radius: 4px;
            overflow: hidden;
            margin: 16px 0;
        }

        .progress-fill {
            height: 100%;
            background: #22c55e;
            transition: width 0.3s ease;
        }

        .logs-container {
            max-height: 400px;
            overflow-y: auto;
            background: #0a0f0a;
            border: 1px solid #1a331a;
            border-radius: 6px;
            padding: 16px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            color: #22c55e;
        }

        .integrations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
        }

        .integration-card {
            background: #0d1a0d;
            border: 1px solid #1a331a;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            transition: all 0.2s;
        }

        .integration-card:hover {
            border-color: #22c55e;
            transform: translateY(-2px);
        }

        .integration-icon {
            width: 48px;
            height: 48px;
            background: #1a331a;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 12px;
            font-size: 20px;
        }

        .query-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 16px;
        }

        .settings-form {
            max-width: 600px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #e8f5e8;
            font-weight: 500;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 12px;
            background: #0a0f0a;
            border: 1px solid #1a331a;
            border-radius: 6px;
            color: #e8f5e8;
            font-family: inherit;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #22c55e;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
            }
            
            .model-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }
            
            .quick-actions {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">
            <div class="logo-icon">UR</div>
            Uruti.Rw
        </div>
        <nav class="nav">
            <a href="#" class="active">Home</a>
            <a href="#">Models</a>
            <a href="#" onclick="showTools(event)">Tools</a>
        </nav>
        <div class="user-section">
            <span>David Niyonshuti</span>
            <div class="user-avatar">D</div>
        </div>
    </header>

    <div class="container">
        <aside class="sidebar">
            <ul class="sidebar-menu">
                <li><a href="#" class="active" data-tab="overview"><span class="icon">üìä</span> Overview</a></li>
                <li><a href="#" data-tab="retrain"><span class="icon">üîÑ</span> Model Training</a></li>
                <li><a href="#" data-tab="metrics"><span class="icon">üìà</span> Metrics</a></li>
                <li><a href="#" data-tab="performance"><span class="icon">‚ö°</span> Performance</a></li>
                <li><a href="#" data-tab="database"><span class="icon">üóÑÔ∏è</span> Database Info</a></li>
                <li><a href="#" data-tab="users"><span class="icon">üë•</span> Users</a></li>
                <li><a href="#" data-tab="integrations"><span class="icon">üîå</span> Integrations</a></li>
                <li><a href="#" data-tab="logs"><span class="icon">üìã</span> Logs</a></li>
                <li><a href="#" data-tab="query-stats"><span class="icon">üîç</span> Query Statistics</a></li>
                <li><a href="#" data-tab="settings"><span class="icon">‚öôÔ∏è</span> Model Settings</a></li>
            </ul>
        </aside>

        <main class="main-content">
            <div class="breadcrumb">
                <a href="#">David Niyonshuti</a> / <a href="#">ml-project</a> / <a href="#">model-v2.1</a> / <span id="current-tab">Overview</span>
            </div>

            <div class="model-header">
                <div class="model-info">
                    <div class="model-icon">ML</div>
                    <div class="model-details">
                        <h1>model-v2.1</h1>
                        <div class="model-status">
                            <span class="status-badge status-running">‚óè Running</span>
                            <span class="status-badge status-trained">‚óè Last trained: <span id="last-trained-date">3 December 2024</span></span>
                            <span>TensorFlow 2.15</span>
                            <span>Accuracy: <span id="header-accuracy">94.2%</span></span>
                        </div>
                    </div>
                </div>
                <div class="quick-actions">
                    <button class="btn btn-primary">Quick Deploy</button>
                </div>
            </div>

            <!-- Overview Tab -->
            <div id="overview" class="tab-content active">
                <div class="card">
                    <h2>Get started with Uruti.Rw for TensorFlow¬Æ</h2>
                    <p style="color: #a1a1aa; margin-bottom: 16px;">Monitor, retrain, and manage your machine learning model with a comprehensive dashboard.</p>
                    <button class="btn btn-primary">Get started</button>
                </div>

                <div class="card">
                    <h2>Model Information</h2>
                    <div class="info-grid">
                        <div>
                            <div class="info-item">
                                <span class="info-label">Model URI</span>
                                <span class="info-value" id="model-uri">tensorflow://model-v2.1.mlcloud.com:8080/predict</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Model Name</span>
                                <span class="info-value" id="model-name">model-v2.1</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Framework</span>
                                <span class="info-value" id="framework">TensorFlow 2.15</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Model Type</span>
                                <span class="info-value" id="model-type">Classification</span>
                            </div>
                        </div>
                        <div>
                            <div class="info-item">
                                <span class="info-label">Last Training</span>
                                <span class="info-value" id="last-training">3 December 2024, 14:23 UTC</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Training Duration</span>
                                <span class="info-value" id="training-duration">2h 34m</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Dataset Size</span>
                                <span class="info-value" id="dataset-size">1.2M samples</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Model Size</span>
                                <span class="info-value" id="model-size">245 MB</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Model Training Tab -->
            <div id="retrain" class="tab-content">
                <div class="card">
                    <h2>Model Retraining</h2>
                    <p style="color: #a1a1aa; margin-bottom: 24px;">Retrain your model with new data to improve accuracy and performance.</p>
                    
                    <div style="margin-bottom: 24px;">
                        <h3>Training Progress</h3>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%" id="training-progress"></div>
                        </div>
                        <p style="color: #a1a1aa; font-size: 14px;" id="progress-text">Ready to start training</p>
                    </div>

                    <div style="margin-bottom: 24px;">
                        <h3>Training Configuration</h3>
                        <div class="info-item">
                            <span class="info-label">Batch Size</span>
                            <span class="info-value">32</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Learning Rate</span>
                            <span class="info-value">0.001</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Epochs</span>
                            <span class="info-value">10</span>
                        </div>
                    </div>

                    <div style="display: flex; gap: 16px;">
                        <button class="btn btn-primary" onclick="startTraining()">Start Training</button>
                        <button class="btn btn-secondary">Configure Training</button>
                    </div>

                    <div style="margin-top: 24px;">
                        <h3>Training Log</h3>
                        <div class="training-log" id="training-log">
                            Model ready for training...<br>
                            Waiting for training command...
                        </div>
                    </div>
                </div>
            </div>

            <!-- Metrics Tab -->
            <div id="metrics" class="tab-content">
                <div class="metric-cards">
                    <div class="metric-card">
                        <div class="metric-value" id="metrics-accuracy">94.2%</div>
                        <div class="metric-label">Accuracy</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="metrics-loss">0.058</div>
                        <div class="metric-label">Loss</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="metrics-precision">92.7%</div>
                        <div class="metric-label">Precision</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="metrics-recall">95.1%</div>
                        <div class="metric-label">Recall</div>
                    </div>
                </div>

                <div class="card">
                    <h2>Training Metrics Over Time</h2>
                    <div class="chart-container">
                        <canvas id="metricsChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2>Label Distribution</h2>
                    <div class="chart-container">
                        <canvas id="labelChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Performance Tab -->
            <div id="performance" class="tab-content">
                <div class="metric-cards">
                    <div class="metric-card">
                        <div class="metric-value" id="perf-inference">45ms</div>
                        <div class="metric-label">Avg Inference Time</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="perf-requests">1,247</div>
                        <div class="metric-label">Requests/min</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="perf-uptime">99.9%</div>
                        <div class="metric-label">Uptime</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="perf-memory">2.1GB</div>
                        <div class="metric-label">Memory Usage</div>
                    </div>
                </div>

                <div class="card">
                    <h2>Performance Over Time</h2>
                    <div class="chart-container">
                        <canvas id="performanceChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2>System Resources</h2>
                    <div class="metric-cards">
                        <div class="metric-card">
                            <div class="metric-value" id="cpu-usage">45%</div>
                            <div class="metric-label">CPU Usage</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="gpu-usage">12%</div>
                            <div class="metric-label">GPU Usage</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Database Tab -->
            <div id="database" class="tab-content">
                <div class="card">
                    <h2>Database Information</h2>
                    <div class="info-grid">
                        <div>
                            <div class="info-item">
                                <span class="info-label">Database Type</span>
                                <span class="info-value" id="db-type">PostgreSQL 15.3</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Connection String</span>
                                <span class="info-value" id="db-connection">postgresql://ml-db.cloud.com:5432/mldata</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Total Records</span>
                                <span class="info-value" id="db-records">1,234,567</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Database Size</span>
                                <span class="info-value" id="db-size">15.7 GB</span>
                            </div>
                        </div>
                        <div>
                            <div class="info-item">
                                <span class="info-label">Last Backup</span>
                                <span class="info-value" id="db-backup">Today, 02:00 UTC</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Backup Size</span>
                                <span class="info-value" id="db-backup-size">12.3 GB</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Tables</span>
                                <span class="info-value" id="db-tables">23</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Status</span>
                                <span class="info-value" id="db-status" style="color: #22c55e;">‚óè Online</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Users Tab -->
            <div id="users" class="tab-content">
                <div class="card">
                    <h2>Application Users</h2>
                    <table class="users-table">
                        <thead>
                            <tr>
                                <th>User</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Last Access</th>
                                <th>API Calls</th>
                            </tr>
                        </thead>
                        <tbody id="users-tbody">
                            <!-- Users will be loaded dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Integrations Tab -->
            <div id="integrations" class="tab-content">
                <div class="card">
                    <h2>Available Integrations</h2>
                    <p style="color: #a1a1aa; margin-bottom: 24px;">Connect your model with external tools and services</p>
                    
                    <div class="integrations-grid">
                        <div class="integration-card">
                            <div class="integration-icon">üî¨</div>
                            <h3>wandb.ai</h3>
                            <p style="color: #a1a1aa; font-size: 14px; margin: 8px 0;">Experiment tracking and model management</p>
                            <button class="btn btn-primary" style="margin-top: 12px;">Connect</button>
                        </div>
                        
                        <div class="integration-card">
                            <div class="integration-icon">üéµ</div>
                            <h3>Whisper</h3>
                            <p style="color: #a1a1aa; font-size: 14px; margin: 8px 0;">Speech-to-text processing</p>
                            <button class="btn btn-secondary" style="margin-top: 12px;">Connected</button>
                        </div>
                        
                        <div class="integration-card">
                            <div class="integration-icon">üîß</div>
                            <h3>Tokenizers</h3>
                            <p style="color: #a1a1aa; font-size: 14px; margin: 8px 0;">Text preprocessing and tokenization</p>
                            <button class="btn btn-secondary" style="margin-top: 12px;">Connected</button>
                        </div>
                        
                        <div class="integration-card">
                            <div class="integration-icon">‚ö°</div>
                            <h3>TensorFlow</h3>
                            <p style="color: #a1a1aa; font-size: 14px; margin: 8px 0;">Core ML framework</p>
                            <button class="btn btn-secondary" style="margin-top: 12px;">Connected</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Logs Tab -->
            <div id="logs" class="tab-content">
                <div class="card">
                    <h2>System Logs</h2>
                    <div class="logs-container" id="system-logs">
                        <div style="color: #22c55e;">[2024-12-03 14:23:15] INFO: Model v2.1 initialized successfully</div>
                        <div style="color: #06b6d4;">[2024-12-03 14:23:16] DEBUG: Loading tokenizer from ./models/distilbert-base-uncased</div>
                        <div style="color: #22c55e;">[2024-12-03 14:23:17] INFO: Database connection established</div>
                        <div style="color: #f59e0b;">[2024-12-03 14:25:32] WARN: High memory usage detected: 2.1GB</div>
                        <div style="color: #22c55e;">[2024-12-03 14:30:45] INFO: Prediction request processed - Label: Investment Ready</div>
                        <div style="color: #06b6d4;">[2024-12-03 14:31:12] DEBUG: Model inference time: 45ms</div>
                        <div style="color: #22c55e;">[2024-12-03 14:35:28] INFO: User authentication successful - david@uruti.rw</div>
                        <div style="color: #22c55e;">[2024-12-03 14:42:33] INFO: Database backup completed successfully</div>
                        <div style="color: #f59e0b;">[2024-12-03 14:45:18] WARN: Rate limit approaching for user: alice@uruti.rw</div>
                        <div style="color: #22c55e;">[2024-12-03 14:50:22] INFO: Training checkpoint saved</div>
                    </div>
                </div>

                <div class="card">
                    <h2>Training Logs</h2>
                    <div class="logs-container" id="training-logs-display">
                        <!-- Training logs will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Query Statistics Tab -->
            <div id="query-stats" class="tab-content">
                <div class="metric-cards">
                    <div class="metric-card">
                        <div class="metric-value" id="total-queries">15,247</div>
                        <div class="metric-label">Total Queries</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="success-rate">98.7%</div>
                        <div class="metric-label">Success Rate</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="avg-response">42ms</div>
                        <div class="metric-label">Avg Response Time</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="queries-today">1,832</div>
                        <div class="metric-label">Queries Today</div>
                    </div>
                </div>

                <div class="card">
                    <h2>Query Distribution by Label</h2>
                    <div class="chart-container">
                        <canvas id="queryDistributionChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2>Recent Predictions</h2>
                    <table class="users-table">
                        <thead>
                            <tr>
                                <th>Timestamp</th>
                                <th>Input Type</th>
                                <th>Predicted Label</th>
                                <th>Confidence</th>
                                <th>Processing Time</th>
                            </tr>
                        </thead>
                        <tbody id="recent-predictions">
                            <!-- Recent predictions will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Model Settings Tab -->
            <div id="settings" class="tab-content">
                <div class="card">
                    <h2>Model Configuration</h2>
                    <div class="settings-form">
                        <div class="form-group">
                            <label class="form-label">Model Name</label>
                            <input type="text" class="form-input" value="model-v2.1" id="setting-model-name">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Framework Version</label>
                            <select class="form-select" id="setting-framework">
                                <option value="tensorflow-2.15">TensorFlow 2.15</option>
                                <option value="tensorflow-2.14">TensorFlow 2.14</option>
                                <option value="tensorflow-2.13">TensorFlow 2.13</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Inference Timeout (ms)</label>
                            <input type="number" class="form-input" value="5000" id="setting-timeout">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Batch Size</label>
                            <input type="number" class="form-input" value="32" id="setting-batch-size">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Auto-scaling</label>
                            <select class="form-select" id="setting-autoscaling">
                                <option value="enabled">Enabled</option>
                                <option value="disabled">Disabled</option>
                            </select>
                        </div>
                        
                        <div style="display: flex; gap: 16px; margin-top: 24px;">
                            <button class="btn btn-primary" onclick="saveSettings()">Save Settings</button>
                            <button class="btn btn-secondary" onclick="resetSettings()">Reset to Default</button>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>Model Endpoints</h2>
                    <div class="info-item">
                        <span class="info-label">Prediction Endpoint</span>
                        <span class="info-value">POST /predict</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Health Check</span>
                        <span class="info-value">GET /health</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Metrics Endpoint</span>
                        <span class="info-value">GET /metrics</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">API Version</span>
                        <span class="info-value">v2.1.0</span>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Configuration
        const API_BASE = 'http://localhost:8000';
        
        // Global variables
        let trainingInProgress = false;
        let metricsChart = null;
        let performanceChart = null;
        let labelChart = null;
        let queryDistributionChart = null;

        // Tools dropdown functionality
        function showTools(e) {
            e.preventDefault();
            const tools = ['wandb.ai', 'whisper', 'tokenizers', 'tensorflow'];
            alert('Available Tools:\n' + tools.join('\n'));
        }

        // Tab navigation functionality
        document.querySelectorAll('[data-tab]').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                
                // Remove active class from all sidebar links
                document.querySelectorAll('.sidebar-menu a').forEach(l => l.classList.remove('active'));
                // Add active class to clicked link
                link.classList.add('active');
                
                // Hide all tab contents
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                // Show selected tab content
                const tabId = link.getAttribute('data-tab');
                const tabContent = document.getElementById(tabId);
                if (tabContent) {
                    tabContent.classList.add('active');
                    // Update breadcrumb
                    document.getElementById('current-tab').textContent = getTabDisplayName(tabId);
                    // Load data when tab is opened
                    loadTabData(tabId);
                }
            });
        });

        function getTabDisplayName(tabId) {
            const displayNames = {
                'overview': 'Overview',
                'retrain': 'Model Training',
                'metrics': 'Metrics',
                'performance': 'Performance',
                'database': 'Database Info',
                'users': 'Users',
                'integrations': 'Integrations',
                'logs': 'Logs',
                'query-stats': 'Query Statistics',
                'settings': 'Model Settings'
            };
            return displayNames[tabId] || 'Unknown';
        }

        // Load data for specific tabs
        async function loadTabData(tabId) {
            try {
                switch(tabId) {
                    case 'overview':
                        await loadOverviewData();
                        break;
                    case 'metrics':
                        await loadMetricsData();
                        break;
                    case 'performance':
                        await loadPerformanceData();
                        break;
                    case 'database':
                        await loadDatabaseData();
                        break;
                    case 'users':
                        await loadUsersData();
                        break;
                    case 'retrain':
                        await loadTrainingStatus();
                        break;
                    case 'logs':
                        await loadLogsData();
                        break;
                    case 'query-stats':
                        await loadQueryStatsData();
                        break;
                }
            } catch (error) {
                console.error(`Error loading ${tabId} data:`, error);
                // Show fallback data if API is not available
                loadFallbackData(tabId);
            }
        }

        // Fallback data when API is not available
        function loadFallbackData(tabId) {
            switch(tabId) {
                case 'metrics':
                    updateMetricsDisplay({
                        accuracy: 0.942,
                        precision_score: 0.927,
                        recall_score: 0.951,
                        loss_value: 0.058
                    });
                    createMetricsChart();
                    createLabelChart();
                    break;
                case 'performance':
                    updatePerformanceDisplay({
                        avg_inference_time: 45,
                        requests_per_minute: 1247,
                        uptime: 99.9,
                        memory_usage: "2.1GB"
                    });
                    createPerformanceChart();
                    break;
                case 'users':
                    loadFallbackUsers();
                    break;
                case 'query-stats':
                    loadFallbackQueryStats();
                    break;
            }
        }

        // Load overview data
        async function loadOverviewData() {
            try {
                const response = await fetch(`${API_BASE}/overview`);
                const data = await response.json();
                
                // Update model info
                const modelInfo = data.model_info;
                document.getElementById('model-name').textContent = modelInfo.name;
                document.getElementById('last-trained-date').textContent = new Date(modelInfo.last_training).toLocaleDateString();
                document.getElementById('header-accuracy').textContent = `${(modelInfo.accuracy * 100).toFixed(1)}%`;
                document.getElementById('last-training').textContent = new Date(modelInfo.last_training).toLocaleString();
                document.getElementById('training-duration').textContent = modelInfo.training_duration;
                document.getElementById('model-size').textContent = modelInfo.model_size;
                
            } catch (error) {
                console.error('Error loading overview data:', error);
            }
        }

        // Load metrics data
        async function loadMetricsData() {
            try {
                const response = await fetch(`${API_BASE}/metrics`);
                const data = await response.json();
                updateMetricsDisplay(data);
                createMetricsChart();
                createLabelChart(data.label_distribution);
            } catch (error) {
                console.error('Error loading metrics data:', error);
                loadFallbackData('metrics');
            }
        }

        function updateMetricsDisplay(data) {
            document.getElementById('metrics-accuracy').textContent = `${(data.accuracy * 100).toFixed(1)}%`;
            document.getElementById('metrics-loss').textContent = data.loss_value ? data.loss_value.toFixed(3) : '0.058';
            document.getElementById('metrics-precision').textContent = `${(data.precision_score * 100).toFixed(1)}%`;
            document.getElementById('metrics-recall').textContent = `${(data.recall_score * 100).toFixed(1)}%`;
        }

        // Load performance data
        async function loadPerformanceData() {
            try {
                const response = await fetch(`${API_BASE}/performance`);
                const data = await response.json();
                updatePerformanceDisplay(data);
                createPerformanceChart();
            } catch (error) {
                console.error('Error loading performance data:', error);
                loadFallbackData('performance');
            }
        }

        function updatePerformanceDisplay(data) {
            document.getElementById('perf-inference').textContent = `${data.avg_inference_time}ms`;
            document.getElementById('perf-requests').textContent = data.requests_per_minute.toLocaleString();
            document.getElementById('perf-uptime').textContent = `${data.uptime}%`;
            document.getElementById('perf-memory').textContent = data.memory_usage;
            document.getElementById('cpu-usage').textContent = data.cpu_usage || '45%';
            document.getElementById('gpu-usage').textContent = data.gpu_usage || '12%';
        }

        // Load database data
        async function loadDatabaseData() {
            try {
                const response = await fetch(`${API_BASE}/database-info`);
                const data = await response.json();
                
                document.getElementById('db-type').textContent = data.database_type;
                document.getElementById('db-connection').textContent = data.connection_string;
                document.getElementById('db-records').textContent = data.total_records.toLocaleString();
                document.getElementById('db-size').textContent = data.database_size;
                document.getElementById('db-backup').textContent = data.last_backup;
                document.getElementById('db-backup-size').textContent = data.backup_size;
                document.getElementById('db-tables').textContent = data.tables.toString();
                document.getElementById('db-status').innerHTML = `‚óè ${data.status}`;
            } catch (error) {
                console.error('Error loading database data:', error);
            }
        }

        // Load users data
        async function loadUsersData() {
            try {
                const response = await fetch(`${API_BASE}/users`);
                const users = await response.json();
                displayUsers(users);
            } catch (error) {
                console.error('Error loading users data:', error);
                loadFallbackUsers();
            }
        }

        function displayUsers(users) {
            const tbody = document.getElementById('users-tbody');
            tbody.innerHTML = '';
            
            users.forEach(user => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div class="user-avatar">${user.name.split(' ').map(n => n[0]).join('')}</div>
                            ${user.name}
                        </div>
                    </td>
                    <td>${user.email}</td>
                    <td>${user.role}</td>
                    <td>${user.last_access_formatted}</td>
                    <td>${user.api_calls.toLocaleString()}</td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadFallbackUsers() {
            const fallbackUsers = [
                { name: "David Niyonshuti", email: "david@uruti.rw", role: "Admin", last_access_formatted: "2 hours ago", api_calls: 1247 },
                { name: "Alice Smith", email: "alice@uruti.rw", role: "Developer", last_access_formatted: "1 day ago", api_calls: 843 },
                { name: "Bob Johnson", email: "bob@uruti.rw", role: "Analyst", last_access_formatted: "3 days ago", api_calls: 156 },
                { name: "Carol Davis", email: "carol@uruti.rw", role: "Viewer", last_access_formatted: "1 week ago", api_calls: 23 }
            ];
            displayUsers(fallbackUsers);
        }

        // Load training status
        async function loadTrainingStatus() {
            try {
                const response = await fetch(`${API_BASE}/training/status`);
                const status = await response.json();
                
                const progressBar = document.getElementById('training-progress');
                const progressText = document.getElementById('progress-text');
                const trainingLog = document.getElementById('training-log');
                
                progressBar.style.width = `${status.progress}%`;
                
                if (status.is_training) {
                    trainingInProgress = true;
                    progressText.textContent = `Training in progress... Epoch ${status.current_epoch} (${Math.round(status.progress)}%)`;
                    pollTrainingStatus();
                } else if (status.progress === 100) {
                    progressText.textContent = 'Training completed successfully!';
            } else {
                progressText.textContent = 'Ready to start training';
            }
            
            if (status.logs && status.logs.length > 0) {
                trainingLog.innerHTML = status.logs.join('<br>');
                trainingLog.scrollTop = trainingLog.scrollHeight;
            }
        } catch (error) {
            console.error('Error loading training status:', error);
        }
        }

        function simulateTraining() {
            trainingInProgress = true;
            const progressBar = document.getElementById('training-progress');
            const progressText = document.getElementById('progress-text');
            const trainingLog = document.getElementById('training-log');
            
            let progress = 0;
            let epoch = 1;
            const maxEpochs = 10;
            
            trainingLog.innerHTML = 'Starting training...<br>';
            
            const trainingInterval = setInterval(() => {
                progress += Math.random() * 15;
                epoch = Math.ceil((progress / 100) * maxEpochs);
                
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(trainingInterval);
                    trainingInProgress = false;
                    progressText.textContent = 'Training completed successfully!';
                    trainingLog.innerHTML += `Training completed! Final accuracy: 94.7%<br>`;
                    trainingLog.innerHTML += `Model saved successfully.<br>`;
                } else {
                    progressText.textContent = `Training in progress... Epoch ${epoch}/${maxEpochs} (${Math.round(progress)}%)`;
                    
                    // Add random training log entries
                    const logEntries = [
                        `Epoch ${epoch}/10 - loss: ${(0.5 - (progress/100) * 0.4).toFixed(4)} - accuracy: ${(0.5 + (progress/100) * 0.4).toFixed(4)}`,
                        `Validation loss: ${(0.6 - (progress/100) * 0.45).toFixed(4)} - val_accuracy: ${(0.45 + (progress/100) * 0.45).toFixed(4)}`,
                        `Learning rate: ${(0.001 * (1 - progress/200)).toFixed(6)}`
                    ];
                    
                    if (Math.random() > 0.7) {
                        trainingLog.innerHTML += logEntries[Math.floor(Math.random() * logEntries.length)] + '<br>';
                        trainingLog.scrollTop = trainingLog.scrollHeight;
                    }
                }
                
                progressBar.style.width = progress + '%';
            }, 500);
        }

        // Settings functionality
        function saveSettings() {
            const settings = {
                model_name: document.getElementById('setting-model-name').value,
                framework: document.getElementById('setting-framework').value,
                timeout: document.getElementById('setting-timeout').value,
                batch_size: document.getElementById('setting-batch-size').value,
                autoscaling: document.getElementById('setting-autoscaling').value
            };
            
            // In a real application, this would send the settings to the API
            console.log('Saving settings:', settings);
            alert('Settings saved successfully!');
        }

        function resetSettings() {
            document.getElementById('setting-model-name').value = 'model-v2.1';
            document.getElementById('setting-framework').value = 'tensorflow-2.15';
            document.getElementById('setting-timeout').value = '5000';
            document.getElementById('setting-batch-size').value = '32';
            document.getElementById('setting-autoscaling').value = 'enabled';
            alert('Settings reset to default values!');
        }

        // Auto-refresh functionality
        function startAutoRefresh() {
            setInterval(() => {
                const activeTab = document.querySelector('.tab-content.active');
                if (activeTab) {
                    const tabId = activeTab.id;
                    // Only refresh certain tabs to avoid disrupting user interactions
                    if (['overview', 'metrics', 'performance'].includes(tabId)) {
                        loadTabData(tabId);
                    }
                }
            }, 30000); // Refresh every 30 seconds
        }

        // Real-time updates simulation
        function simulateRealTimeUpdates() {
            setInterval(() => {
                // Update random metrics slightly
                const accuracy = document.getElementById('metrics-accuracy');
                if (accuracy) {
                    const currentValue = parseFloat(accuracy.textContent);
                    const newValue = currentValue + (Math.random() - 0.5) * 0.1;
                    accuracy.textContent = `${Math.max(90, Math.min(95, newValue)).toFixed(1)}%`;
                }
                
                const inference = document.getElementById('perf-inference');
                if (inference) {
                    const currentValue = parseFloat(inference.textContent);
                    const newValue = currentValue + (Math.random() - 0.5) * 5;
                    inference.textContent = `${Math.max(30, Math.min(60, newValue)).toFixed(0)}ms`;
                }
                
                const requests = document.getElementById('perf-requests');
                if (requests) {
                    const currentValue = parseInt(requests.textContent.replace(',', ''));
                    const newValue = currentValue + Math.floor((Math.random() - 0.5) * 100);
                    requests.textContent = Math.max(1000, Math.min(2000, newValue)).toLocaleString();
                }
            }, 5000); // Update every 5 seconds
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        document.querySelector('[data-tab="overview"]').click();
                        break;
                    case '2':
                        e.preventDefault();
                        document.querySelector('[data-tab="metrics"]').click();
                        break;
                    case '3':
                        e.preventDefault();
                        document.querySelector('[data-tab="performance"]').click();
                        break;
                    case 'r':
                        e.preventDefault();
                        location.reload();
                        break;
                }
            }
        });

        // Tooltip functionality
        function addTooltips() {
            const tooltipElements = document.querySelectorAll('[title]');
            tooltipElements.forEach(element => {
                element.addEventListener('mouseenter', (e) => {
                    const tooltip = document.createElement('div');
                    tooltip.className = 'tooltip';
                    tooltip.textContent = e.target.getAttribute('title');
                    tooltip.style.cssText = `
                        position: fixed;
                        background: #0d1a0d;
                        color: #e8f5e8;
                        padding: 8px 12px;
                        border-radius: 6px;
                        border: 1px solid #1a331a;
                        font-size: 12px;
                        z-index: 1000;
                        pointer-events: none;
                    `;
                    document.body.appendChild(tooltip);
                    
                    const rect = e.target.getBoundingClientRect();
                    tooltip.style.left = rect.left + 'px';
                    tooltip.style.top = (rect.top - tooltip.offsetHeight - 8) + 'px';
                });
                
                element.addEventListener('mouseleave', () => {
                    const tooltip = document.querySelector('.tooltip');
                    if (tooltip) {
                        tooltip.remove();
                    }
                });
            });
        }

        // Error handling and retry mechanism
        async function fetchWithRetry(url, options = {}, retries = 3) {
            for (let i = 0; i < retries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (response.ok) {
                        return response;
                    }
                    throw new Error(`HTTP ${response.status}`);
                } catch (error) {
                    if (i === retries - 1) throw error;
                    await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)));
                }
            }
        }

        // Connection status indicator
        function updateConnectionStatus() {
            const statusIndicator = document.createElement('div');
            statusIndicator.id = 'connection-status';
            statusIndicator.style.cssText = `
                position: fixed;
                top: 16px;
                right: 16px;
                padding: 8px 16px;
                border-radius: 6px;
                font-size: 12px;
                font-weight: 500;
                z-index: 1000;
                transition: all 0.3s ease;
            `;
            document.body.appendChild(statusIndicator);
            
            async function checkConnection() {
                try {
                    await fetch(`${API_BASE}/`, { method: 'HEAD' });
                    statusIndicator.textContent = '‚óè API Connected';
                    statusIndicator.style.background = '#16a34a20';
                    statusIndicator.style.color = '#22c55e';
                    statusIndicator.style.border = '1px solid #22c55e';
                } catch (error) {
                    statusIndicator.textContent = '‚óè API Disconnected';
                    statusIndicator.style.background = '#dc262620';
                    statusIndicator.style.color = '#ef4444';
                    statusIndicator.style.border = '1px solid #ef4444';
                }
            }
            
            checkConnection();
            setInterval(checkConnection, 10000); // Check every 10 seconds
        }

        // Export functionality
        function exportData(type) {
            const data = {
                timestamp: new Date().toISOString(),
                type: type,
                data: {}
            };
            
            switch(type) {
                case 'metrics':
                    data.data = {
                        accuracy: document.getElementById('metrics-accuracy').textContent,
                        loss: document.getElementById('metrics-loss').textContent,
                        precision: document.getElementById('metrics-precision').textContent,
                        recall: document.getElementById('metrics-recall').textContent
                    };
                    break;
                case 'performance':
                    data.data = {
                        inference_time: document.getElementById('perf-inference').textContent,
                        requests_per_minute: document.getElementById('perf-requests').textContent,
                        uptime: document.getElementById('perf-uptime').textContent,
                        memory_usage: document.getElementById('perf-memory').textContent
                    };
                    break;
            }
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `uruti-${type}-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Initialize dashboard
        window.addEventListener('load', () => {
            loadTabData('overview');
            startAutoRefresh();
            simulateRealTimeUpdates();
            addTooltips();
            updateConnectionStatus();
            
            // Add export buttons to relevant tabs
            const exportButton = document.createElement('button');
            exportButton.className = 'btn btn-secondary';
            exportButton.style.cssText = 'margin-left: 16px; font-size: 12px; padding: 6px 12px;';
            exportButton.textContent = 'Export Data';
            exportButton.onclick = () => {
                const activeTab = document.querySelector('.tab-content.active');
                if (activeTab) {
                    exportData(activeTab.id);
                }
            };
            
            document.querySelector('.quick-actions').appendChild(exportButton);
            
            console.log('üöÄ Uruti.Rw Dashboard initialized successfully!');
            console.log('üí° Keyboard shortcuts:');
            console.log('   Ctrl/Cmd + 1: Overview');
            console.log('   Ctrl/Cmd + 2: Metrics');
            console.log('   Ctrl/Cmd + 3: Performance');
            console.log('   Ctrl/Cmd + R: Refresh');
        });

        // Handle browser back/forward buttons
        window.addEventListener('popstate', (e) => {
            if (e.state && e.state.tab) {
                document.querySelector(`[data-tab="${e.state.tab}"]`).click();
            }
        });

        // Push state when tab changes
        document.querySelectorAll('[data-tab]').forEach(link => {
            link.addEventListener('click', (e) => {
                const tabId = link.getAttribute('data-tab');
                history.pushState({ tab: tabId }, '', `#${tabId}`);
            });
        });

        // Load tab from URL hash on page load
        window.addEventListener('load', () => {
            const hash = window.location.hash.slice(1);
            if (hash) {
                const tabLink = document.querySelector(`[data-tab="${hash}"]`);
                if (tabLink) {
                    tabLink.click();
                }
            }
        });
    </script>
</body>
</html>
    <script>
        // Load training status
        async function loadTrainingStatus() {
            try {
                const response = await fetch(`${API_BASE}/training/status`);
                const status = await response.json();
                
                const progressBar = document.getElementById('training-progress');
                const progressText = document.getElementById('progress-text');
                const trainingLog = document.getElementById('training-log');
                
                progressBar.style.width = `${status.progress}%`;
                
                if (status.is_training) {
                    progressText.textContent = `Training in progress... Epoch ${status.current_epoch} (${Math.round(status.progress)}%)`;
                } else if (status.progress === 100) {
Training completed successfully!';
                    progressText.textContent = 'Training completed successfully!';
                } else {
                    progressText.textContent = 'Ready to start training';
                }
                
                if (status.logs && status.logs.length > 0) {
                    trainingLog.innerHTML = status.logs.join('<br>');
                    trainingLog.scrollTop = trainingLog.scrollHeight;
                }
            } catch (error) {
                console.error('Error loading training status:', error);
            }
        }

        // Load logs data
        async function loadLogsData() {
            try {
                const response = await fetch(`${API_BASE}/training/logs`);
                const logs = await response.json();
                
                const trainingLogsDisplay = document.getElementById('training-logs-display');
                trainingLogsDisplay.innerHTML = '';
                
                logs.forEach(log => {
                    const logEntry = document.createElement('div');
                    logEntry.style.color = '#22c55e';
                    logEntry.innerHTML = `[${new Date(log.created_at).toLocaleString()}] ${log.message}`;
                    trainingLogsDisplay.appendChild(logEntry);
                });
            } catch (error) {
                console.error('Error loading logs data:', error);
            }
        }

        // Load query statistics data
        async function loadQueryStatsData() {
            try {
                const response = await fetch(`${API_BASE}/metrics`);
                const data = await response.json();
                
                document.getElementById('total-queries').textContent = data.total_predictions.toLocaleString();
                document.getElementById('success-rate').textContent = '98.7%';
                document.getElementById('avg-response').textContent = `${Math.round(data.avg_processing_time * 1000)}ms`;
                document.getElementById('queries-today').textContent = Math.round(data.total_predictions * 0.12).toLocaleString();
                
                createQueryDistributionChart(data.label_distribution);
                loadRecentPredictions();
            } catch (error) {
                console.error('Error loading query stats data:', error);
                loadFallbackQueryStats();
            }
        }

        function loadFallbackQueryStats() {
            document.getElementById('total-queries').textContent = '15,247';
            document.getElementById('success-rate').textContent = '98.7%';
            document.getElementById('avg-response').textContent = '42ms';
            document.getElementById('queries-today').textContent = '1,832';
            
            const fallbackDistribution = [
                { predicted_label: 'Investment Ready', count: 8547 },
                { predicted_label: 'Mentorship Needed', count: 4321 },
                { predicted_label: 'Needs Refinement', count: 2379 }
            ];
            createQueryDistributionChart(fallbackDistribution);
            loadFallbackRecentPredictions();
        }

        function loadRecentPredictions() {
            // This would typically fetch from an API endpoint
            loadFallbackRecentPredictions();
        }

        function loadFallbackRecentPredictions() {
            const tbody = document.getElementById('recent-predictions');
            tbody.innerHTML = '';
            
            const predictions = [
                { timestamp: '2024-12-03 14:45:22', input_type: 'Text', label: 'Investment Ready', confidence: 0.94, time: 42 },
                { timestamp: '2024-12-03 14:44:18', input_type: 'Audio', label: 'Mentorship Needed', confidence: 0.87, time: 156 },
                { timestamp: '2024-12-03 14:43:45', input_type: 'Text', label: 'Needs Refinement', confidence: 0.76, time: 38 },
                { timestamp: '2024-12-03 14:42:33', input_type: 'Text', label: 'Investment Ready', confidence: 0.92, time: 45 },
                { timestamp: '2024-12-03 14:41:12', input_type: 'Audio', label: 'Mentorship Needed', confidence: 0.89, time: 178 }
            ];
            
            predictions.forEach(pred => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${pred.timestamp}</td>
                    <td>${pred.input_type}</td>
                    <td>${pred.label}</td>
                    <td>${(pred.confidence * 100).toFixed(1)}%</td>
                    <td>${pred.time}ms</td>
                `;
                tbody.appendChild(row);
            });
        }

        // Chart creation functions
        function createMetricsChart() {
            const ctx = document.getElementById('metricsChart');
            if (!ctx) return;
            
            if (metricsChart) {
                metricsChart.destroy();
            }
            
            metricsChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Epoch 1', 'Epoch 2', 'Epoch 3', 'Epoch 4', 'Epoch 5', 'Epoch 6', 'Epoch 7', 'Epoch 8', 'Epoch 9', 'Epoch 10'],
                    datasets: [{
                        label: 'Accuracy',
                        data: [0.65, 0.72, 0.78, 0.83, 0.87, 0.90, 0.92, 0.93, 0.94, 0.942],
                        borderColor: '#22c55e',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        tension: 0.4
                    }, {
                        label: 'Loss',
                        data: [0.45, 0.38, 0.32, 0.28, 0.24, 0.20, 0.16, 0.12, 0.08, 0.058],
                        borderColor: '#f59e0b',
                        backgroundColor: 'rgba(245, 158, 11, 0.1)',
                        tension: 0.4,
                        yAxisID: 'y1'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#e8f5e8' }
                        }
                    },
                    scales: {
                        x: {
                            ticks: { color: '#a1a1aa' },
                            grid: { color: '#1a331a' }
                        },
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            ticks: { color: '#a1a1aa' },
                            grid: { color: '#1a331a' }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            ticks: { color: '#a1a1aa' },
                            grid: { drawOnChartArea: false }
                        }
                    }
                }
            });
        }

        function createLabelChart(distribution = null) {
            const ctx = document.getElementById('labelChart');
            if (!ctx) return;
            
            if (labelChart) {
                labelChart.destroy();
            }
            
            const defaultDistribution = distribution || [
                { predicted_label: 'Investment Ready', count: 8547 },
                { predicted_label: 'Mentorship Needed', count: 4321 },
                { predicted_label: 'Needs Refinement', count: 2379 }
            ];
            
            labelChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: defaultDistribution.map(d => d.predicted_label),
                    datasets: [{
                        data: defaultDistribution.map(d => d.count),
                        backgroundColor: ['#22c55e', '#06b6d4', '#f59e0b'],
                        borderColor: '#0d1a0d',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#e8f5e8' }
                        }
                    }
                }
            });
        }

        function createPerformanceChart() {
            const ctx = document.getElementById('performanceChart');
            if (!ctx) return;
            
            if (performanceChart) {
                performanceChart.destroy();
            }
            
            const hours = Array.from({length: 24}, (_, i) => `${i}:00`);
            const responseTimeData = hours.map(() => 35 + Math.random() * 20);
            const requestData = hours.map(() => 800 + Math.random() * 600);
            
            performanceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: hours,
                    datasets: [{
                        label: 'Response Time (ms)',
                        data: responseTimeData,
                        borderColor: '#22c55e',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        tension: 0.4
                    }, {
                        label: 'Requests/min',
                        data: requestData,
                        borderColor: '#06b6d4',
                        backgroundColor: 'rgba(6, 182, 212, 0.1)',
                        tension: 0.4,
                        yAxisID: 'y1'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#e8f5e8' }
                        }
                    },
                    scales: {
                        x: {
                            ticks: { color: '#a1a1aa' },
                            grid: { color: '#1a331a' }
                        },
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            ticks: { color: '#a1a1aa' },
                            grid: { color: '#1a331a' }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            ticks: { color: '#a1a1aa' },
                            grid: { drawOnChartArea: false }
                        }
                    }
                }
            });
        }

        function createQueryDistributionChart(distribution) {
            const ctx = document.getElementById('queryDistributionChart');
            if (!ctx) return;
            
            if (queryDistributionChart) {
                queryDistributionChart.destroy();
            }
            
            queryDistributionChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: distribution.map(d => d.predicted_label),
                    datasets: [{
                        label: 'Query Count',
                        data: distribution.map(d => d.count),
                        backgroundColor: ['rgba(34, 197, 94, 0.8)', 'rgba(6, 182, 212, 0.8)', 'rgba(245, 158, 11, 0.8)'],
                        borderColor: ['#22c55e', '#06b6d4', '#f59e0b'],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#e8f5e8' }
                        }
                    },
                    scales: {
                        x: {
                            ticks: { color: '#a1a1aa' },
                            grid: { color: '#1a331a' }
                        },
                        y: {
                            ticks: { color: '#a1a1aa' },
                            grid: { color: '#1a331a' }
                        }
                    }
                }
            });
        }

        // Training functionality
        async function startTraining() {
            if (trainingInProgress) return;
            
            try {
                const response = await fetch(`${API_BASE}/training/start`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        batch_size: 32,
                        learning_rate: 0.001,
                        epochs: 10
                    })
                });
                
                if (response.ok) {
                    trainingInProgress = true;
                    pollTrainingStatus();
                } else {
                    throw new Error('Failed to start training');
                }
            } catch (error) {
                console.error('Error starting training:', error);
                // Fallback to simulation if API is not available
                simulateTraining();
            }
        }

        function pollTrainingStatus() {
            const interval = setInterval(async () => {
                try {
                    const response = await fetch(`${API_BASE}/training/status`);
                    const status = await response.json();
                    
                    updateTrainingDisplay(status);
                    
                    if (!status.is_training) {
                        trainingInProgress = false;
                        clearInterval(interval);
                    }
                } catch (error) {
                    console.error('Error polling training status:', error);
                    clearInterval(interval);
                }
            }, 2000);
        }

        function updateTrainingDisplay(status) {
            const progressBar = document.getElementById('training-progress');
            const progressText = document.getElementById('progress-text');
            const trainingLog = document.getElementById('training-log');
            
            progressBar.style.width = `${status.progress}%`;
            
            if (status.is_training) {
                progressText.textContent = `Training in progress... Epoch ${status.current_epoch} (${Math.round(status.progress)}%)`;
            } else if (status.progress === 100) {
                progressText.textContent = 'Training completed successfully!';
            } else {
                progressText.textContent = 'Training not in progress';
            }
            
            trainingLog.innerHTML = status.logs.join('<br>');
            trainingLog.scrollTop = trainingLog.scrollHeight;
        }
    </script>
